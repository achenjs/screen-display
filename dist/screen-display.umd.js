!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("core-js/modules/es7.array.includes"),require("core-js/modules/es6.string.includes"),require("core-js/modules/es6.object.assign")):"function"==typeof define&&define.amd?define(["core-js/modules/es7.array.includes","core-js/modules/es6.string.includes","core-js/modules/es6.object.assign"],i):(e="undefined"!=typeof globalThis?globalThis:e||self).ScreenDisplay=i()}(this,function(){"use strict";var t=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")};function s(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var e=function(e,i,t){return i&&s(e.prototype,i),t&&s(e,t),e};var i,n=(function(i){function t(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?i.exports=t=function(e){return typeof e}:i.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}i.exports=t}(i={exports:{}}),i.exports),o=function(e){return i=e,("object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?i instanceof HTMLElement:!(!i||"object"!==n(i)||1!==i.nodeType&&9!==i.nodeType||"string"!=typeof i.nodeName))?e:document.querySelector(e);var i},h=function(e){return e.parentNode},r={designWidth:1920,designHeight:1080,compatPosition:"top-left",resizeTimer:"300",resizeEvent:"window",disabledResize:!1};return function(){function i(e){t(this,i),this.$options=e,this.$el=o(e.el),this.$parent=h(this.$el),this.designWidth=e.designWidth||r.designWidth,this.designHeight=e.designHeight||r.designHeight,this.compatPosition=e.compatPosition||r.compatPosition,this.resizeTimer=e.resizeTimer||r.resizeTimer,this.resizeEvent=e.resizeEvent||r.resizeEvent,this.disabledResize=e.disabledResize||r.disabledResize,this._diffUnit=0,this._pWidth=0,this._pHeight=0,this._scaling=0,this._translate="0,0",this._resizeTimeout=null,this._resize(),this._bindResizeByEvent()}return e(i,[{key:"_resize",value:function(){this._calcParentNodeWH(),this._calcScaling(),this._calcTranslate(),this._bindStyleText()}},{key:"_calcParentNodeWH",value:function(){var e,e={offsetWidth:(e=this.$parent).offsetWidth,offsetHeight:e.offsetHeight};this._pWidth=e.offsetWidth,this._pHeight=e.offsetHeight,this._diffUnit=this._pWidth/this._pHeight-this.designWidth/this.designHeight}},{key:"_calcScaling",value:function(){this._scaling=this._pWidth===this.designWidth&&this._pHeight===this.designHeight?1:0<this._diffUnit?this._pHeight/this.designHeight:this._pWidth/this.designWidth}},{key:"_calcTranslate",value:function(){switch(this.compatPosition){case"top-left":this._translate="0,0";break;case"top-center":this._translate="".concat((this._pWidth-this.designWidth*this._scaling)/2/this._scaling,"px,0");break;case"top-right":this._translate="".concat((this._pWidth-this.designWidth*this._scaling)/this._scaling,"px,0");break;case"bottom-left":this._translate="0,".concat((this._pHeight-this.designHeight*this._scaling)/this._scaling,"px");break;case"center-left":this._translate="0,".concat((this._pHeight-this.designHeight*this._scaling)/2/this._scaling,"px")}}},{key:"_bindStyleText",value:function(){Object.assign(this.$el.style,{"transform-origin":"0 0",transform:"scale(".concat(this._scaling,",").concat(this._scaling,") translate(").concat(this._translate,")"),width:"".concat(this.designWidth,"px"),height:"".concat(this.designHeight,"px")}),this.$options.onResize&&this.$options.onResize(this,{actualWidth:this.designWidth*this._scaling,actualHeight:this.designHeight*this._scaling})}},{key:"_bindResizeByEvent",value:function(){var e=this;this._bind=function(){e.disabledResize||(e._resizeTimeout&&(clearTimeout(e._resizeTimeout),e._resizeTimeout=null),e._resizeTimeout=setTimeout(function(){e._resize(),e._resizeTimeout=null},e.resizeTimer))},this.resizeEvent.includes("window")&&window.addEventListener("resize",this._bind)}},{key:"_unbindResizeByEvent",value:function(){this.resizeEvent.includes("window")&&window.removeEventListener("resize",this._bind)}},{key:"resize",value:function(){this._resize()}},{key:"destroy",value:function(){this._unbindResizeByEvent()}}]),i}()});
